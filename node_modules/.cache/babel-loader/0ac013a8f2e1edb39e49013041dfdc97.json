{"ast":null,"code":"import _objectSpread from \"/Users/guligenaaierken/Desktop/Final Project/Therappoint_frontend/therappoint_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/guligenaaierken/Desktop/Final Project/Therappoint_frontend/therappoint_frontend/src/components/Profile.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport './Profile.css';\nimport { Link } from 'react-router-dom';\nimport { LogOut, deleteUser, setPickedUserId, createAppointment, deleteAppointment, updateAppointment, authUser, changeUpdateState, newSource } from '../reducer/actions';\nimport uuid from 'uuid';\nimport Calendar from './Calendar';\nimport SearcBar from './SearchBar';\nimport MapContainer from './MapContainer';\nimport { Segment, Button, List, Image, Grid } from 'semantic-ui-react';\n\nclass Profile extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      clicked: false,\n      rescheduleClicked: false,\n      rescheduleAppoinId: ''\n    };\n\n    this.handleLogOutClick = () => {\n      localStorage.clear();\n      this.props.LogOut();\n    };\n\n    this.handleClick = () => {\n      this.setState({\n        clicked: !this.state.clicked\n      });\n    };\n\n    this.handleDelete = () => {\n      localStorage.removeItem('token');\n      localStorage.removeItem('id');\n      this.props.deleteUser(this.props.user);\n    };\n\n    this.appointmentLi = () => {\n      return this.props.user.provider_appointments.map(appoint => {\n        return React.createElement(List.Item, {\n          key: uuid(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, React.createElement(List.Content, {\n          key: uuid(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }, appoint.appoint_date), React.createElement(Button, {\n          size: \"mini\",\n          className: \"teal\",\n          key: uuid(),\n          \"data-id\": appoint.id,\n          onClick: this.handleSetReschedule,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, \"Reschedule\"), React.createElement(Button, {\n          size: \"mini\",\n          className: \"red\",\n          key: uuid(),\n          \"data-id\": appoint.id,\n          onClick: this.handleAppoDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, \"Cancel\"));\n      });\n    };\n\n    this.providersImg = () => {\n      const providers = [...this.props.user.providers];\n      const uniqueProviders = Array.from(new Set(providers.map(p => p.id))).map(id => {\n        return providers.find(p => {\n          return p.id === id;\n        });\n      });\n      return uniqueProviders.map(provider => {\n        return React.createElement(Image, {\n          size: \"tiny\",\n          onClick: this.pickProv,\n          key: uuid(),\n          \"data-id\": provider.id,\n          src: provider.img_url,\n          alt: provider.last_name,\n          circular: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        });\n      });\n    };\n\n    this.confirmAppo = () => {\n      if (this.props.user.specialty) {\n        this.props.createAppointment(this.props.date, this.props.pickedId, this.props.user.id);\n      } else {\n        this.props.createAppointment(this.props.date, this.props.user.id, this.props.pickedId);\n      }\n    };\n\n    this.pickProv = evt => {\n      this.props.setPickedUserId(evt.target.dataset.id);\n    };\n\n    this.handleAppoDelete = evt => {\n      this.props.deleteAppointment(evt.target.dataset.id);\n    };\n\n    this.handleSetReschedule = evt => {\n      this.setState(_objectSpread({}, this.state, {\n        rescheduleClicked: true,\n        rescheduleAppoinId: evt.target.dataset.id\n      }));\n    };\n\n    this.updateAppointdate = () => {\n      this.props.updateAppointment(this.state.rescheduleAppoinId, this.props.date);\n      this.setState(_objectSpread({}, this.state, {\n        rescheduleClicked: false\n      }));\n    };\n\n    this.providerAppoLi = () => {\n      return this.props.user.client_appointments.map(appoint => {\n        return React.createElement(List.Item, {\n          key: uuid(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, React.createElement(List.Content, {\n          key: uuid(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, appoint.appoint_date, React.createElement(Button, {\n          className: \"teal\",\n          size: \"mini\",\n          key: uuid(),\n          \"data-id\": appoint.id,\n          onClick: this.handleSetReschedule,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, \"Reschedule\"), React.createElement(Button, {\n          className: \"red\",\n          size: \"mini\",\n          key: uuid(),\n          \"data-id\": appoint.id,\n          onClick: this.handleAppoDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        }, \"Cancel\")));\n      });\n    };\n\n    this.clientsImg = () => {\n      const clients = [...this.props.user.clients];\n      const uniqueClients = Array.from(new Set(clients.map(c => c.id))).map(id => {\n        return clients.find(c => {\n          return c.id === id;\n        });\n      });\n      return uniqueClients.map(client => {\n        return React.createElement(Image, {\n          size: \"tiny\",\n          onClick: this.pickProv,\n          key: uuid(),\n          \"data-id\": client.id,\n          src: client.img_url,\n          alt: client.last_name,\n          circular: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        });\n      });\n    };\n\n    this.changeUpdatedState = () => {\n      this.props.changeUpdateState();\n    };\n  }\n\n  componentDidMount() {\n    this.props.newSource();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"top div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(SearcBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      relaxed: true,\n      columns: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, this.state.clicked ? React.createElement(Segment.Group, {\n      raised: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(Segment, {\n      onClick: this.handleClick,\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(List.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(List.Icon, {\n      name: \"users\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(List.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Full name: \", this.props.user.first_name, \" \", this.props.user.last_name), React.createElement(List.Icon, {\n      name: \"marker\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }), React.createElement(List.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Address: \", this.props.user.address, \" \"), React.createElement(List.Icon, {\n      name: \"mail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }), React.createElement(List.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Email: \", this.props.user.email, \" \"), React.createElement(List.Icon, {\n      name: \"linkify\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), React.createElement(List.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Contact: \", this.props.user.phone_number, \" \"), React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"mini\",\n      onClick: this.changeUpdatedState,\n      className: \"teal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Edit\")), React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"mini\",\n      onClick: this.handleDelete,\n      className: \"red\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Delete\"))))), React.createElement(Grid.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(MapContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }))) : React.createElement(Segment.Group, {\n      onClick: this.handleClick,\n      raised: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: this.props.user.img_url,\n      alt: this.props.user.username,\n      size: \"medium\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    })), React.createElement(Segment, {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"Hi! Welcome \", this.props.user.username, \"! \"), React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"mini\",\n      onClick: this.handleLogOutClick,\n      className: \"teal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Logout\")))))), React.createElement(Grid.Column, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Please click on the picture to choose\", React.createElement(\"div\", {\n      className: \"ui tiny circular images\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, this.props.user.providers ? this.providersImg() : null, this.props.user.clients ? this.clientsImg() : null), React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"Please choose a date to schedule your appointment\", React.createElement(Calendar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    })), React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"mini\",\n      className: \"teal\",\n      onClick: this.confirmAppo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Schedule\")))), React.createElement(Grid.Column, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"Appointments:\", this.props.user.provider_appointments ? this.appointmentLi() : null, this.props.user.client_appointments ? this.providerAppoLi() : null), this.state.rescheduleClicked ? React.createElement(Segment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"Please select a date: \", React.createElement(Calendar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }), React.createElement(Button, {\n      className: \"teal\",\n      onClick: this.updateAppointdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"confirm\")) : null))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user,\n    date: state.date,\n    pickedId: state.pickedId,\n    updated: state.updated,\n    source: state.source\n  };\n};\n\nexport default connect(mapStateToProps, {\n  LogOut,\n  deleteUser,\n  setPickedUserId,\n  createAppointment,\n  deleteAppointment,\n  updateAppointment,\n  authUser,\n  changeUpdateState,\n  newSource\n})(Profile);","map":{"version":3,"sources":["/Users/guligenaaierken/Desktop/Final Project/Therappoint_frontend/therappoint_frontend/src/components/Profile.js"],"names":["React","connect","Link","LogOut","deleteUser","setPickedUserId","createAppointment","deleteAppointment","updateAppointment","authUser","changeUpdateState","newSource","uuid","Calendar","SearcBar","MapContainer","Segment","Button","List","Image","Grid","Profile","Component","state","clicked","rescheduleClicked","rescheduleAppoinId","handleLogOutClick","localStorage","clear","props","handleClick","setState","handleDelete","removeItem","user","appointmentLi","provider_appointments","map","appoint","appoint_date","id","handleSetReschedule","handleAppoDelete","providersImg","providers","uniqueProviders","Array","from","Set","p","find","provider","pickProv","img_url","last_name","confirmAppo","specialty","date","pickedId","evt","target","dataset","updateAppointdate","providerAppoLi","client_appointments","clientsImg","clients","uniqueClients","c","client","changeUpdatedState","componentDidMount","render","first_name","address","email","phone_number","username","mapStateToProps","updated","source"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux';\nimport './Profile.css'\nimport {Link} from 'react-router-dom'\nimport { LogOut, deleteUser, setPickedUserId, createAppointment, deleteAppointment, updateAppointment, authUser, changeUpdateState, newSource } from '../reducer/actions'\nimport uuid from 'uuid'\nimport Calendar from './Calendar'\nimport SearcBar from './SearchBar'\nimport MapContainer from './MapContainer'\nimport { Segment, Button, List, Image, Grid } from 'semantic-ui-react';\n\n\nclass Profile extends React.Component {\n\n state={\n     clicked: false,\n     rescheduleClicked: false,\n     rescheduleAppoinId: ''\n }\n\n componentDidMount() {\n   this.props.newSource()\n }\n\nhandleLogOutClick = () => {\n    \n    localStorage.clear()\n    \n    this.props.LogOut()\n  \n}\n\nhandleClick = () => {\n    this.setState({\n        clicked: !this.state.clicked\n    })\n}\n\n\nhandleDelete = () => {\n    localStorage.removeItem('token')\n    localStorage.removeItem('id')\n    this.props.deleteUser(this.props.user)\n}\n\nappointmentLi = () => {\n    return this.props.user.provider_appointments.map((appoint) => {\n    return (\n                <List.Item key={uuid()}>\n                 <List.Content key={uuid()}>{appoint.appoint_date}</List.Content>\n                 <Button size=\"mini\" className=\"teal\" key={uuid()} data-id={appoint.id} onClick={this.handleSetReschedule}>Reschedule</Button> \n                 <Button size=\"mini\" className=\"red\" key={uuid()} data-id={appoint.id} onClick={this.handleAppoDelete}>Cancel</Button>\n                </List.Item>\n            )\n    }\n    )\n}\n\nprovidersImg = () => {\n    const providers = [...this.props.user.providers]\n\n    const uniqueProviders = Array.from(new Set(providers.map(p => p.id))).map((id) => {\n        return providers.find((p) => {\n            return p.id === id})})\n\n    \n    return uniqueProviders.map((provider) => {\n    return <Image size=\"tiny\" onClick={this.pickProv} key={uuid()} data-id={provider.id} src={provider.img_url} alt={provider.last_name } circular />\n    }\n    )\n}\n\nconfirmAppo = () => {\n    if(this.props.user.specialty){\n    this.props.createAppointment(this.props.date, this.props.pickedId, this.props.user.id)}\n    else{\n        this.props.createAppointment(this.props.date, this.props.user.id, this.props.pickedId)}    \n   \n}\n\npickProv = (evt) => {\n    this.props.setPickedUserId(evt.target.dataset.id)\n    \n}\n\nhandleAppoDelete = (evt) => {\n    this.props.deleteAppointment(evt.target.dataset.id)\n}\n\nhandleSetReschedule = (evt) => {\n   \n    this.setState({\n        ...this.state,\n        rescheduleClicked: true,\n        rescheduleAppoinId: evt.target.dataset.id\n    })\n}\n\nupdateAppointdate = () => {\n    \n    this.props.updateAppointment(this.state.rescheduleAppoinId, this.props.date)\n    this.setState({\n        ...this.state,\n        rescheduleClicked: false\n    })\n}\n\n\n\nproviderAppoLi = () => {\n    return this.props.user.client_appointments.map((appoint) => {\n        return (<List.Item key={uuid()}>\n                    <List.Content key={uuid()}>{appoint.appoint_date}\n                    <Button className=\"teal\" size=\"mini\" key={uuid()} data-id={appoint.id} onClick={this.handleSetReschedule}>Reschedule</Button> \n                    <Button className=\"red\" size=\"mini\" key={uuid()} data-id={appoint.id} onClick={this.handleAppoDelete}>Cancel</Button>\n                    </List.Content>\n                </List.Item>)\n        }\n        )\n}\n\nclientsImg = () => {\n    const clients = [...this.props.user.clients]\n    const uniqueClients = Array.from(new Set(clients.map(c => c.id))).map((id) => {\n        return clients.find((c) => {\n            return c.id === id})})\n    \n    \n    return uniqueClients.map((client) => {\n    return <Image size=\"tiny\" onClick={this.pickProv} key={uuid()} data-id={client.id} src={client.img_url} alt={client.last_name} circular/>\n    }\n    )\n}\n\nchangeUpdatedState = () => {\n    this.props.changeUpdateState()\n}\n\n\n    render(){\n       \n        return (\n           <div className=\"top div\">\n           {/* search bar */}\n           <SearcBar/>\n            <Grid relaxed columns={3}>\n                {/* beginning personal info */}\n               <Grid.Column>\n               <Segment>\n                    {this.state.clicked?\n                        <Segment.Group raised>\n                            <Segment onClick={this.handleClick} className=\"content\">\n                                <List.Item>\n                                 <List.Icon name='users'/>\n                                 <List.Content>Full name: {this.props.user.first_name} {this.props.user.last_name}</List.Content> \n                                 <List.Icon name=\"marker\"/>\n                                 <List.Content>Address: {this.props.user.address} </List.Content>\n                                 <List.Icon name=\"mail\"/>\n                                 <List.Content>Email: {this.props.user.email} </List.Content>\n                                 <List.Icon name=\"linkify\"/>\n                                 <List.Content>Contact: {this.props.user.phone_number} </List.Content> \n                               \n                                    <Segment>\n                                     <Link to=\"/edit\"><Button size=\"mini\" onClick={this.changeUpdatedState} className='teal'>Edit</Button></Link>\n                                     <Link to=\"/\"><Button size=\"mini\" onClick={this.handleDelete} className='red' >Delete</Button></Link>\n                                    </Segment>\n                                </List.Item>\n                            </Segment> \n                            <Grid.Row>\n                               <MapContainer/>\n                            </Grid.Row>\n                        </Segment.Group>\n                        \n                               \n                           \n                        \n                    :\n                        <Segment.Group  onClick={this.handleClick} raised>\n                            <Segment>\n                             <Image src={this.props.user.img_url} alt={this.props.user.username} size=\"medium\"/>\n                            </Segment>\n                            <Segment className=\"header\">Hi! Welcome {this.props.user.username}! </Segment>\n                            <Segment>\n                             <Link to=\"/\"><Button size=\"mini\" onClick={this.handleLogOutClick} className=\"teal\">Logout</Button></Link>\n                            </Segment>\n                        </Segment.Group>\n                    }\n                    \n                    </Segment>\n                    </Grid.Column>\n\n                {/* beginning of calender appointment making column */}\n                <Grid.Column>\n                    <Segment>\n                        Please click on the picture to choose\n                        <div className=\"ui tiny circular images\">\n                        {this.props.user.providers? this.providersImg():null}\n                        {this.props.user.clients? this.clientsImg():null}\n                        </div>\n                        <Segment>Please choose a date to schedule your appointment<Calendar /></Segment>\n                        \n                        <Segment><Button size=\"mini\" className=\"teal\" onClick={this.confirmAppo}>Schedule</Button></Segment>\n                    </Segment>\n               \n                </Grid.Column>\n                {/* beginning of apointment history */}\n                <Grid.Column>\n                    <Segment>\n                        <List>\n                           Appointments:\n                         {this.props.user.provider_appointments? this.appointmentLi(): null}\n                         {this.props.user.client_appointments? this.providerAppoLi(): null}\n                         </List>\n                         {this.state.rescheduleClicked? <Segment>Please select a date: <Calendar/><Button className=\"teal\" onClick={this.updateAppointdate}>confirm</Button></Segment>: null}\n                         \n                    </Segment>\n                </Grid.Column>\n            </Grid>\n            </div>\n            \n            \n            \n            \n            \n            \n           \n           \n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n       user: state.user,\n       date: state.date,\n       pickedId: state.pickedId,\n       updated: state.updated,\n       source: state.source\n    }\n}\n\nexport default connect(mapStateToProps, {LogOut, deleteUser, setPickedUserId, createAppointment, deleteAppointment, updateAppointment, authUser, changeUpdateState, newSource})(Profile)"]},"metadata":{},"sourceType":"module"}