{"ast":null,"code":"var _jsxFileName = \"/Users/guligenaaierken/Desktop/Final Project/Therappoint_frontend/therappoint_frontend/src/components/Profile.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport './Profile.css';\nimport { Link } from 'react-router-dom';\nimport { LogOut, deleteUser, setPickedUserId, createAppointment } from '../reducer/actions';\nimport uuid from 'uuid';\nimport Calendar from './Calendar';\n\nclass Profile extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      clicked: false\n    };\n\n    this.handleLogOutClick = () => {\n      localStorage.clear();\n      this.props.LogOut();\n    };\n\n    this.handleClick = () => {\n      this.setState({\n        clicked: !this.state.clicked\n      });\n    };\n\n    this.handleDelete = () => {\n      this.props.deleteUser(this.props.user);\n    };\n\n    this.appointmentLi = () => {\n      return this.props.user.provider_appointments.map(appoint => {\n        return React.createElement(\"ul\", {\n          key: uuid(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          key: uuid(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        }, appoint.appoint_date), React.createElement(\"button\", {\n          key: uuid(),\n          onClick: this.handleReschedule,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        }, \"Reschedule\"), React.createElement(\"button\", {\n          key: uuid(),\n          \"data-id\": appoint.id,\n          onClick: this.handleAppoDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, \"Cancel\"));\n      });\n    };\n\n    this.providersImg = () => {\n      const renewFirst = JSON.parse(localStorage.providers.split(\"},\")[0].substring(1) + \"}\");\n      const renewSecond = localStorage.providers.split(\"},\")[localStorage.providers.split(\"},\").length - 1].substring(0, localStorage.providers.split(\"},\")[localStorage.providers.split(\"},\").length - 1].length - 1);\n      const stringArr = localStorage.providers.split(\"},\").splice(1, localStorage.providers.split(\"},\").length - 2); //   console.table(localStorage.providers.split(\"},\").splice(1, localStorage.providers.split(\"},\").length-2).map((e) => {\n      //       return JSON.parse(e+\"}\")\n      //   }\n      //   ))\n      // console.log(localStorage.providers.split(\"},\").splice(1, localStorage.providers.split(\"},\").length-2))\n\n      const providers = [...this.props.user.providers]; // avoid array duplication///\n\n      const uniqueProviders = Array.from(new Set(providers.map(p => p.id))).map(id => {\n        return providers.find(p => {\n          return p.id === id;\n        });\n      });\n      return uniqueProviders.map(provider => {\n        return React.createElement(\"img\", {\n          onClick: this.pickProv,\n          key: uuid(),\n          \"data-id\": provider.id,\n          className: \"ui image\",\n          src: provider.img_url,\n          alt: provider.last_name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        });\n      });\n    };\n\n    this.confirmAppo = () => {\n      this.props.createAppointment(this.props.date, this.props.user.id, this.props.pickedId);\n    };\n\n    this.pickProv = evt => {\n      this.props.setPickedUserId(evt.target.dataset.id);\n    };\n\n    this.handleAppoDelete = evt => {\n      console.log('deleted', evt.target.dataset.id);\n    };\n\n    this.handleReschedule = () => {\n      console.log('reschedule');\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"ui three column grid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui segment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, this.state.clicked ? React.createElement(\"div\", {\n      className: \"ui raised link card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      onClick: this.handleClick,\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Full name: \", localStorage.first_name, \" \", localStorage.last_name), React.createElement(\"article\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Address: \", localStorage.address, \" \"), React.createElement(\"article\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Email: \", localStorage.email, \" \"), React.createElement(\"article\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Contact: \", localStorage.phone_number, \" \")), React.createElement(Link, {\n      to: \"/edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"ui teal button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Edit\")), React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleDelete,\n      className: \"ui teal button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Delete\"))) : React.createElement(\"div\", {\n      onClick: this.handleClick,\n      className: \"ui raised link card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: localStorage.img_url,\n      alt: localStorage.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, localStorage.username)), React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleLogOutClick,\n      className: \"ui teal button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Logout\"))))), React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui segment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui tiny images\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Providers:\", this.props.user.providers ? this.providersImg() : null), React.createElement(Calendar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.confirmAppo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Schedule\"))), React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui segment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"appointments history and following:\", this.props.user.provider_appointments ? this.appointmentLi() : null))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user,\n    date: state.date,\n    pickedId: state.pickedId\n  };\n};\n\nexport default connect(mapStateToProps, {\n  LogOut,\n  deleteUser,\n  setPickedUserId,\n  createAppointment\n})(Profile);","map":{"version":3,"sources":["/Users/guligenaaierken/Desktop/Final Project/Therappoint_frontend/therappoint_frontend/src/components/Profile.js"],"names":["React","connect","Link","LogOut","deleteUser","setPickedUserId","createAppointment","uuid","Calendar","Profile","Component","state","clicked","handleLogOutClick","localStorage","clear","props","handleClick","setState","handleDelete","user","appointmentLi","provider_appointments","map","appoint","appoint_date","handleReschedule","id","handleAppoDelete","providersImg","renewFirst","JSON","parse","providers","split","substring","renewSecond","length","stringArr","splice","uniqueProviders","Array","from","Set","p","find","provider","pickProv","img_url","last_name","confirmAppo","date","pickedId","evt","target","dataset","console","log","render","first_name","address","email","phone_number","username","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux';\nimport './Profile.css'\nimport {Link} from 'react-router-dom'\nimport { LogOut, deleteUser, setPickedUserId, createAppointment } from '../reducer/actions'\nimport uuid from 'uuid'\nimport Calendar from './Calendar'\n\nclass Profile extends React.Component {\n\n state={\n     clicked: false\n }\n \nhandleLogOutClick = () => {\n    \n    localStorage.clear()\n    \n    this.props.LogOut()\n  \n}\n\nhandleClick = () => {\n    this.setState({\n        clicked: !this.state.clicked\n    })\n}\n\n\nhandleDelete = () => {\n    this.props.deleteUser(this.props.user)\n}\n\nappointmentLi = () => {\n    return this.props.user.provider_appointments.map((appoint) => {\n    return ( <ul key={uuid()}>\n              <li key={uuid()}>{appoint.appoint_date}</li>\n              <button key={uuid()} onClick={this.handleReschedule}>Reschedule</button> \n              <button key={uuid()} data-id={appoint.id} onClick={this.handleAppoDelete}>Cancel</button>\n            </ul>)\n    }\n    )\n}\n\nprovidersImg = () => {\n\n\n   const renewFirst = JSON.parse(localStorage.providers.split(\"},\")[0].substring(1)+\"}\")\n   const renewSecond = localStorage.providers.split(\"},\")[localStorage.providers.split(\"},\").length-1].substring(0, localStorage.providers.split(\"},\")[localStorage.providers.split(\"},\").length-1].length-1)\n   const stringArr = localStorage.providers.split(\"},\").splice(1, localStorage.providers.split(\"},\").length-2)\n         \n    \n    \n    //   console.table(localStorage.providers.split(\"},\").splice(1, localStorage.providers.split(\"},\").length-2).map((e) => {\n    //       return JSON.parse(e+\"}\")\n    //   }\n    //   ))\n    // console.log(localStorage.providers.split(\"},\").splice(1, localStorage.providers.split(\"},\").length-2))\n\n\n\n\n\n    const providers = [...this.props.user.providers]\n    // avoid array duplication///\n    const uniqueProviders = Array.from(new Set(providers.map(p => p.id))).map((id) => {\n        return providers.find((p) => {\n            return p.id === id})})\n\n    return uniqueProviders.map((provider) => {\n    return <img onClick={this.pickProv} key={uuid()} data-id={provider.id} className=\"ui image\" src={provider.img_url} alt={provider.last_name} />\n    }\n    )\n}\n\nconfirmAppo = () => {\n    this.props.createAppointment(this.props.date, this.props.user.id, this.props.pickedId)\n}\n\npickProv = (evt) => {\n    this.props.setPickedUserId(evt.target.dataset.id)\n    \n}\n\nhandleAppoDelete = (evt) => {\n    console.log('deleted', evt.target.dataset.id)\n    \n}\n\nhandleReschedule = () => {\n    console.log('reschedule')\n}\n\n\n\n\n    render(){\n       \n        return (\n            \n            <div className=\"ui three column grid\">\n                {/* beginning personal info */}\n                <div className=\"column\">\n                    <div className=\"ui segment\">\n                    {this.state.clicked?\n                        <div className=\"ui raised link card\">\n                            <div onClick={this.handleClick} className=\"content\">\n                                <article className=\"header\">Full name: {localStorage.first_name} {localStorage.last_name}</article> \n                                <article className=\"header\">Address: {localStorage.address} </article>\n                                <article className=\"header\">Email: {localStorage.email} </article>\n                                <article className=\"header\">Contact: {localStorage.phone_number} </article> \n                            </div>\n                            <Link to=\"/edit\"><button className='ui teal button'>Edit</button></Link>\n                            <Link to=\"/\"><button onClick={this.handleDelete} className='ui teal button' >Delete</button></Link>\n                        </div>\n                    :\n                        <div  onClick={this.handleClick} className=\"ui raised link card\">\n                            <div  className=\"image\">\n                            <img src={localStorage.img_url} alt={localStorage.username}/>\n                            </div>\n                            <div className=\"content\">\n                            <article className=\"header\">{localStorage.username}</article>\n                            </div>\n                            <Link to=\"/\"><button onClick={this.handleLogOutClick} className=\"ui teal button\">Logout</button></Link>\n                        </div>\n                    }\n                    </div>\n                </div>\n\n                {/* beginning of calender appointment making column */}\n                <div className=\"column\">\n                    <div className=\"ui segment\">\n                        <div className=\"ui tiny images\">\n                        Providers:\n                        {this.props.user.providers? this.providersImg():null}\n                        </div>\n                        <Calendar />\n                        <button onClick={this.confirmAppo}>Schedule</button>\n                    </div>\n                </div>\n\n                {/* beginning of apointment history */}\n                <div className=\"column\">\n                    <div className=\"ui segment\">\n                        <ul>\n                           appointments history and following:\n                         {this.props.user.provider_appointments? this.appointmentLi():null}\n\n                        </ul>\n                    </div>\n                </div>\n            </div>\n            \n            \n            \n            \n            \n            \n           \n           \n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n       user: state.user,\n       date: state.date,\n       pickedId: state.pickedId\n    }\n}\n\nexport default connect(mapStateToProps, {LogOut, deleteUser, setPickedUserId, createAppointment})(Profile)"]},"metadata":{},"sourceType":"module"}