{"ast":null,"code":"import _objectSpread from \"/Users/guligenaaierken/Desktop/Final Project/Therappoint_frontend/therappoint_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/guligenaaierken/Desktop/Final Project/Therappoint_frontend/therappoint_frontend/src/components/Profile.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport './Profile.css';\nimport { Link } from 'react-router-dom';\nimport { LogOut, deleteUser, setPickedUserId, createAppointment, deleteAppointment, updateAppointment, authUser } from '../reducer/actions';\nimport uuid from 'uuid';\nimport Calendar from './Calendar';\n\nclass Profile extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      clicked: false,\n      rescheduleClicked: false,\n      rescheduleAppoinId: ''\n    };\n\n    this.handleLogOutClick = () => {\n      localStorage.clear();\n      this.props.LogOut();\n    };\n\n    this.handleClick = () => {\n      this.setState({\n        clicked: !this.state.clicked\n      });\n    };\n\n    this.handleDelete = () => {\n      localStorage.removeItem('token');\n      localStorage.removeItem('id');\n      this.props.deleteUser(this.props.user);\n    };\n\n    this.appointmentLi = () => {\n      return this.props.user.provider_appointments.map(appoint => {\n        return React.createElement(\"ul\", {\n          key: uuid(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          key: uuid(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, appoint.appoint_date), React.createElement(\"button\", {\n          key: uuid(),\n          \"data-id\": appoint.id,\n          onClick: this.handleSetReschedule,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }, \"Reschedule\"), React.createElement(\"button\", {\n          key: uuid(),\n          \"data-id\": appoint.id,\n          onClick: this.handleAppoDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44\n          },\n          __self: this\n        }, \"Cancel\"));\n      });\n    };\n\n    this.providersImg = () => {\n      const providers = [...this.props.user.providers];\n      const uniqueProviders = Array.from(new Set(providers.map(p => p.id))).map(id => {\n        return providers.find(p => {\n          return p.id === id;\n        });\n      });\n      return uniqueProviders.map(provider => {\n        return React.createElement(\"img\", {\n          className: \"ui circular image\",\n          onClick: this.pickProv,\n          key: uuid(),\n          \"data-id\": provider.id,\n          src: provider.img_url,\n          alt: provider.last_name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        });\n      });\n    };\n\n    this.confirmAppo = () => {\n      if (this.props.user.specialty) {\n        this.props.createAppointment(this.props.date, this.props.pickedId, this.props.user.id);\n      } else {\n        this.props.createAppointment(this.props.date, this.props.user.id, this.props.pickedId);\n      }\n    };\n\n    this.pickProv = evt => {\n      this.props.setPickedUserId(evt.target.dataset.id);\n    };\n\n    this.handleAppoDelete = evt => {\n      this.props.deleteAppointment(evt.target.dataset.id);\n    };\n\n    this.handleSetReschedule = evt => {\n      this.setState(_objectSpread({}, this.state, {\n        rescheduleClicked: true,\n        rescheduleAppoinId: evt.target.dataset.id\n      }));\n    };\n\n    this.updateAppointdate = () => {\n      this.props.updateAppointment(this.state.rescheduleAppoinId, this.props.date);\n      this.setState(_objectSpread({}, this.state, {\n        rescheduleClicked: false\n      }));\n    };\n\n    this.handleSearch = evt => {\n      console.log(evt.target.value);\n    };\n\n    this.providerAppoLi = () => {\n      return this.props.user.client_appointments.map(appoint => {\n        return React.createElement(\"ul\", {\n          key: uuid(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          key: uuid(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, appoint.appoint_date), React.createElement(\"button\", {\n          key: uuid(),\n          \"data-id\": appoint.id,\n          onClick: this.handleSetReschedule,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, \"Reschedule\"), React.createElement(\"button\", {\n          key: uuid(),\n          \"data-id\": appoint.id,\n          onClick: this.handleAppoDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, \"Cancel\"));\n      });\n    };\n\n    this.clientsImg = () => {\n      const clients = [...this.props.user.clients];\n      const uniqueClients = Array.from(new Set(clients.map(c => c.id))).map(id => {\n        return clients.find(c => {\n          return c.id === id;\n        });\n      });\n      return uniqueClients.map(client => {\n        return React.createElement(\"img\", {\n          className: \"ui circular image\",\n          onClick: this.pickProv,\n          key: uuid(),\n          \"data-id\": client.id,\n          src: client.img_url,\n          alt: client.last_name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        });\n      });\n    };\n  }\n\n  render() {\n    console.log(this.props.updated);\n    return React.createElement(\"div\", {\n      className: \"top div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, this.props.user.specialty ? React.createElement(\"div\", {\n      className: \"ui search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui icon input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.handleSearch,\n      className: \"prompt\",\n      type: \"text\",\n      placeholder: \"Find your client\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"search icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"results\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      className: \"ui search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui icon input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.handleSearch,\n      className: \"prompt\",\n      type: \"text\",\n      placeholder: \"Find your provider\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"search icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"results\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"ui three column grid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui segment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, this.state.clicked ? React.createElement(\"div\", {\n      className: \"ui raised link card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      onClick: this.handleClick,\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Full name: \", this.props.user.first_name, \" \", this.props.user.last_name), React.createElement(\"article\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Address: \", this.props.user.address, \" \"), React.createElement(\"article\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Email: \", this.props.user.email, \" \"), React.createElement(\"article\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Contact: \", this.props.user.phone_number, \" \")), React.createElement(Link, {\n      to: \"/edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"ui teal button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Edit\")), React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleDelete,\n      className: \"ui teal button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Delete\"))) : React.createElement(\"div\", {\n      onClick: this.handleClick,\n      className: \"ui raised link card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.props.user.img_url,\n      alt: this.props.user.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, this.props.user.username)), React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.handleLogOutClick,\n      className: \"ui teal button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Logout\"))))), React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui segment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui tiny circular images\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, this.props.user.providers ? this.providersImg() : null, this.props.user.clients ? this.clientsImg() : null), React.createElement(Calendar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.confirmAppo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"Schedule\"))), React.createElement(\"div\", {\n      className: \"column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui segment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"appointments history and following:\", this.props.user.provider_appointments ? this.appointmentLi() : null, this.props.user.client_appointments ? this.providerAppoLi() : null, this.state.rescheduleClicked ? React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(Calendar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.updateAppointdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"confirm\")) : null)))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.user,\n    date: state.date,\n    pickedId: state.pickedId,\n    updated: state.updated\n  };\n};\n\nexport default connect(mapStateToProps, {\n  LogOut,\n  deleteUser,\n  setPickedUserId,\n  createAppointment,\n  deleteAppointment,\n  updateAppointment,\n  authUser\n})(Profile);","map":{"version":3,"sources":["/Users/guligenaaierken/Desktop/Final Project/Therappoint_frontend/therappoint_frontend/src/components/Profile.js"],"names":["React","connect","Link","LogOut","deleteUser","setPickedUserId","createAppointment","deleteAppointment","updateAppointment","authUser","uuid","Calendar","Profile","Component","state","clicked","rescheduleClicked","rescheduleAppoinId","handleLogOutClick","localStorage","clear","props","handleClick","setState","handleDelete","removeItem","user","appointmentLi","provider_appointments","map","appoint","appoint_date","id","handleSetReschedule","handleAppoDelete","providersImg","providers","uniqueProviders","Array","from","Set","p","find","provider","pickProv","img_url","last_name","confirmAppo","specialty","date","pickedId","evt","target","dataset","updateAppointdate","handleSearch","console","log","value","providerAppoLi","client_appointments","clientsImg","clients","uniqueClients","c","client","render","updated","first_name","address","email","phone_number","username","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux';\nimport './Profile.css'\nimport {Link} from 'react-router-dom'\nimport { LogOut, deleteUser, setPickedUserId, createAppointment, deleteAppointment, updateAppointment, authUser } from '../reducer/actions'\nimport uuid from 'uuid'\nimport Calendar from './Calendar'\n\nclass Profile extends React.Component {\n\n state={\n     clicked: false,\n     rescheduleClicked: false,\n     rescheduleAppoinId: ''\n }\n\n\nhandleLogOutClick = () => {\n    \n    localStorage.clear()\n    \n    this.props.LogOut()\n  \n}\n\nhandleClick = () => {\n    this.setState({\n        clicked: !this.state.clicked\n    })\n}\n\n\nhandleDelete = () => {\n    localStorage.removeItem('token')\n    localStorage.removeItem('id')\n    this.props.deleteUser(this.props.user)\n}\n\nappointmentLi = () => {\n    return this.props.user.provider_appointments.map((appoint) => {\n    return (<ul key={uuid()}>\n                <li key={uuid()}>{appoint.appoint_date}</li>\n                <button key={uuid()} data-id={appoint.id} onClick={this.handleSetReschedule}>Reschedule</button> \n                <button key={uuid()} data-id={appoint.id} onClick={this.handleAppoDelete}>Cancel</button>\n            </ul>)\n    }\n    )\n}\n\nprovidersImg = () => {\n    const providers = [...this.props.user.providers]\n\n    const uniqueProviders = Array.from(new Set(providers.map(p => p.id))).map((id) => {\n        return providers.find((p) => {\n            return p.id === id})})\n\n    \n    return uniqueProviders.map((provider) => {\n    return <img className=\"ui circular image\" onClick={this.pickProv} key={uuid()} data-id={provider.id} src={provider.img_url} alt={provider.last_name} />\n    }\n    )\n}\n\nconfirmAppo = () => {\n    if(this.props.user.specialty){\n    this.props.createAppointment(this.props.date, this.props.pickedId, this.props.user.id)}\n    else{\n        this.props.createAppointment(this.props.date, this.props.user.id, this.props.pickedId)}    \n   \n}\n\npickProv = (evt) => {\n    this.props.setPickedUserId(evt.target.dataset.id)\n    \n}\n\nhandleAppoDelete = (evt) => {\n    this.props.deleteAppointment(evt.target.dataset.id)\n}\n\nhandleSetReschedule = (evt) => {\n   \n    this.setState({\n        ...this.state,\n        rescheduleClicked: true,\n        rescheduleAppoinId: evt.target.dataset.id\n    })\n}\n\nupdateAppointdate = () => {\n    \n    this.props.updateAppointment(this.state.rescheduleAppoinId, this.props.date)\n    this.setState({\n        ...this.state,\n        rescheduleClicked: false\n    })\n}\n\nhandleSearch = (evt) => {\n   console.log(evt.target.value)\n}\n\nproviderAppoLi = () => {\n    return this.props.user.client_appointments.map((appoint) => {\n        return (<ul key={uuid()}>\n                    <li key={uuid()}>{appoint.appoint_date}</li>\n                    <button key={uuid()} data-id={appoint.id} onClick={this.handleSetReschedule}>Reschedule</button> \n                    <button key={uuid()} data-id={appoint.id} onClick={this.handleAppoDelete}>Cancel</button>\n                </ul>)\n        }\n        )\n}\n\nclientsImg = () => {\n    const clients = [...this.props.user.clients]\n    const uniqueClients = Array.from(new Set(clients.map(c => c.id))).map((id) => {\n        return clients.find((c) => {\n            return c.id === id})})\n    \n    \n    return uniqueClients.map((client) => {\n    return <img className=\"ui circular image\" onClick={this.pickProv} key={uuid()} data-id={client.id} src={client.img_url} alt={client.last_name} />\n    }\n    )\n}\n\n\n    render(){\n        console.log(this.props.updated)\n        return (\n           <div className=\"top div\">\n           {/* search bar */}\n           {this.props.user.specialty?\n            <div className=\"ui search\">\n                <div className=\"ui icon input\">\n                    <input onChange={this.handleSearch} className=\"prompt\" type=\"text\" placeholder=\"Find your client\"/>\n                    <i className=\"search icon\"></i>\n                </div>\n                <div className=\"results\"></div>\n            </div>\n            :\n            <div className=\"ui search\">\n                <div className=\"ui icon input\">\n                    <input onChange={this.handleSearch} className=\"prompt\" type=\"text\" placeholder=\"Find your provider\"/>\n                    <i className=\"search icon\"></i>\n                </div>\n                <div className=\"results\"></div>\n            </div>\n            }\n            <div className=\"ui three column grid\">\n                {/* beginning personal info */}\n                <div className=\"column\">\n                    <div className=\"ui segment\">\n                    {this.state.clicked?\n                        <div className=\"ui raised link card\">\n                            <div onClick={this.handleClick} className=\"content\">\n                                <article className=\"header\">Full name: {this.props.user.first_name} {this.props.user.last_name}</article> \n                                <article className=\"header\">Address: {this.props.user.address} </article>\n                                <article className=\"header\">Email: {this.props.user.email} </article>\n                                <article className=\"header\">Contact: {this.props.user.phone_number} </article> \n                            </div>\n                            <Link to=\"/edit\"><button className='ui teal button'>Edit</button></Link>\n                            <Link to=\"/\"><button onClick={this.handleDelete} className='ui teal button' >Delete</button></Link>\n                        </div>\n                    :\n                        <div  onClick={this.handleClick} className=\"ui raised link card\">\n                            <div  className=\"image\">\n                            <img src={this.props.user.img_url} alt={this.props.user.username}/>\n                            </div>\n                            <div className=\"content\">\n                            <article className=\"header\">{this.props.user.username}</article>\n                            </div>\n                            <Link to=\"/\"><button onClick={this.handleLogOutClick} className=\"ui teal button\">Logout</button></Link>\n                        </div>\n                    }\n                    </div>\n                </div>\n\n                {/* beginning of calender appointment making column */}\n                <div className=\"column\">\n                    <div className=\"ui segment\">\n                        <div className=\"ui tiny circular images\">\n                        {this.props.user.providers? this.providersImg():null}\n                        {this.props.user.clients? this.clientsImg():null}\n                        </div>\n                        <Calendar />\n                        <button onClick={this.confirmAppo}>Schedule</button>\n                    </div>\n                </div>\n\n                {/* beginning of apointment history */}\n                <div className=\"column\">\n                    <div className=\"ui segment\">\n                        <ul>\n                           appointments history and following:\n                         {this.props.user.provider_appointments? this.appointmentLi(): null}\n                         {this.props.user.client_appointments? this.providerAppoLi(): null}\n                         {this.state.rescheduleClicked? <li><Calendar/><button onClick={this.updateAppointdate}>confirm</button></li>: null}\n\n                        </ul>\n                    </div>\n                </div>\n            </div>\n            </div>\n            \n            \n            \n            \n            \n            \n           \n           \n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n       user: state.user,\n       date: state.date,\n       pickedId: state.pickedId,\n       updated: state.updated\n    }\n}\n\nexport default connect(mapStateToProps, {LogOut, deleteUser, setPickedUserId, createAppointment, deleteAppointment, updateAppointment, authUser})(Profile)"]},"metadata":{},"sourceType":"module"}